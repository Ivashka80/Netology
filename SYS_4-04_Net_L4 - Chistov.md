# Домашнее задание к занятию "L4-сеть"
 
<details>
Эти задания дополнительные — не обязательные к выполнению. Они никак не повлияют на получение зачёта по домашнему заданию. Вы можете выполнить их, если хотите глубже разобраться в материале. Пожалуйста, присылайте на проверку все задания сразу. Вопросы по решению заданий задавайте в чате учебной группы.

### Цели задания:
- научиться правильно анализировать заголовки протоколов на четвёртом уровне модели OSI,
- выявлять ключевые моменты работы протоколов на четвёртом уровне модели OSI.

Практика закрепляет знания о работе протоколов на четвёртом уровне модели OSI. Полученные навыки пригодятся для понимания принципов работы сети и зависимостей других протоколов.

### Чеклист готовности к домашнему заданию:
1. вы прочитали статью «Основы работы с Cisco Packet Tracer»;
2. на вашем компьютере установлена программа Cisco Packet Tracer; 
3. вы выполнили домашнее задание [4.3 «L3-сеть».](https://github.com/netology-code/snet-homeworks/blob/snet-18/4-03.md)

## Инструкция по выполнению: 
- Выполните оба задания.
- Сделайте скриншоты из Cisco Packet Tracer по итогам выполнения каждого задания.
- Отправьте на проверку в личном кабинете Нетологии PKT-файл. Прикрепите его в раздел «Решение» в практическом задании.
- В комментариях к решению в личном кабинете напишите пояснения к полученным результатам. 

---

### Задание 1. Настройка маршрутизатора
*Важно. Задание сквозное и составлено на основе практического задания из домашней работы [4.3 «L3-сеть».](https://github.com/netology-code/snet-homeworks/blob/snet-18/4-03.md)*

### Описание задания
Вам нужно создать и настроить подключение по telnet к маршрутизатору в главном офисе. 

### Требования к результату:
- Отправьте PKT-файл с выполненным заданием.
- Добавьте скриншоты с состояниями TCP-соединений и ответы на вопросы.

### Процесс выполнения:
1. Запустите программу Cisco Packet Tracer.
2. В программе загрузите предыдущую практическую работу.
3. Настройте на маршрутизаторе главного офиса возможность подключения по telnet. Желательно указывать пароль в зашифрованном виде с помощью service password-encryption.
4. В Cisco Packet Tracer запустите режим симуляции и начните из командной строки с любого ПК главного офиса процесс подключения по telnet к маршрутизатору.
5. В режиме симуляции найдите момент, когда процесс трёхстороннего рукопожатия между ПК и маршрутизатором окончен и TCP-соединение установлено.
6. В командной строке выбранного ПК выполните вход на маршрутизатор с помощью ранее указанного пароля.
7. Посмотрите на маршрутизаторе все TCP-соединения. Сделайте скриншот.
8. Продолжая работать в режиме симуляции, завершите в командной строке сеанс telnet на ПК. Укажите момент, когда процесс TCP-соединения между ПК и маршрутизатором окончен.
9. Ответы внесите в комментарии к решению задания в личном кабинете.

---

### Задание 2. Анализ трафика
*Важно. Задание сквозное и составлено на основе практической задачи из домашней работы [4.3 «L3-сеть».](https://github.com/netology-code/snet-homeworks/blob/snet-18/4-03.md)*

### Описание задания
Вам нужно инициализировать в сети процесс отправки UDP-сообщений.

### Требование к результату
К выполненному заданию добавьте скриншот со структурой пакета и ответ на вопрос.

### Процесс выполнения:
1. Запустите программу Cisco Packet Tracer.
2. В программе загрузите предыдущую практическую работу.
3. Инициализируйте в командной строке любого ПК процесс отправки UDP-пакета.
4. Какие порты использует выбранный вами протокол или технология? Ответ внесите в комментарии к решению задания в личном кабинете.

---

### Общие критерии оценки

Домашнее задание считается выполненным, если:
- Выполнены оба задания.
- К заданию прикреплён PKT-файл и скриншоты работы протоколов по итогам выполнения каждого задания.
- Отображён момент работы протокола UDP.
- Правильно выбраны одни из ключевых этапов работы протокола TCP: установлено TCP-соединение устройств между собой, процесс TCP-соединения завершён.
 
 </details>

# Ответ

Ссылка на файлы PKT - https://drive.google.com/drive/folders/1iZ709yTTqmHqSdBV0AwTWW1XggTrFKxN?usp=sharing

## Задание 1

Данные для подключения к маршрутизатору 

`user - Chistov, pass - Netology`


Сеть главного офиса находится слева (если я правильно понял задание) и выделена голубым цветом. И к роутеру главного офиса надо получить доступ из дочернего офиса через telnet.

Имя роутера задается командой hostname - `hostname MainOffice`.

Не рекомендуется делать пароль доступа к роутера командой `enable password`, иначе при последующей команде `show ru`n пароль будет виден.
Пароль лучше задать командой `enable secret [пароль]`, тогда он будет отображаться в зашифрованном виде.

![Снимок1](https://user-images.githubusercontent.com/121082757/220901128-1b483943-28bd-46f4-bef6-317d8fcd7a69.JPG)

Или же в первом случае можно использовать команду `service password-encryption`, которая также скроет пароль.


Для доступа к роутеру главного офиса можно задать еще имя пользователя, у которого будут все привелегии - `username [Имя_пользователя] privilege 15 password [пароль]`.

Далее - установка авторизации на подключение - `line console 0 - login local` - использовать локальную базу роутера.

Задаем способ подключения telnet - `transport input telnet` - и задаем способ подключения с помощью ранее заданной учетной записью - `login local`. 

При первом включении схемы и попытке подключения к роутеру от выбранного компьютера сначала идет ARP-запрос, чтобы узнать, у кого нужный адрес.

![Снимок2](https://user-images.githubusercontent.com/121082757/220901363-71da042f-ebce-4fa5-a86d-26f3e2465ab9.JPG)

После получения информации, компьютер отправялет TCP-запрос на подключение. 

![Снимок3](https://user-images.githubusercontent.com/121082757/220901487-792f10e1-2f9a-41d1-aa3a-b388da440f6a.JPG)

В ответ роутер оправляет подтверждение запроса и отправляет свой запрос на подключение к компьютеру и компьютер подтверждает этот запрос. Соединение установлено.

![Снимок4](https://user-images.githubusercontent.com/121082757/220901635-b5d4cd51-300c-4326-a301-06168c28623a.JPG)

Разъединение также начинается с запроса, в котором есть флаг FIN (FLAGS:0b00010001). 

После обмена сообщений с подтверждениями  о закрытии, связь прекращается.

![Снимок5](https://user-images.githubusercontent.com/121082757/220901700-1b09231d-ec09-4ef6-8291-40e49dbbe42d.JPG)


## Задание 2
Запуск UDP-пакета я осуществил с компьютера `192.168.20.10` из левой части на компьютер `192.168.0.4/28`  в правой части с помощью инструмента `Traffic Geterenor` и выбрав способ DNS. Из предлагаемых способов только этот отправляет UDP. Если есть еще способы, пожалуйста, подскажите.
Также я не смог найти, как выставить порт отправителя автоматически и задал его вручную.

![Снимок6](https://user-images.githubusercontent.com/121082757/220901892-94ae6a24-8b90-4fc0-b12e-6594fa34ffc1.JPG)


В дааном случае порт получателя был под номер 53, который и отвечает за получение DNS. Соответственно, после достижения точки назначения подтверждения не пришло, кроме ICMP-сообщения о невозможности достигнуть адресата.

![Снимок7](https://user-images.githubusercontent.com/121082757/220901924-1ac768aa-f83d-42c5-bbce-9c0275315808.JPG)

На этом я домашнее задание закончил.




